<app-navbar [position]="'static'"></app-navbar>
<main class="px-4">
  <h1 class="text-2xl font-bold">โปรไฟล์ของฉัน</h1>
  <div class="grid grid-cols-[25%_auto] gap-4 mt-2">
    <div class="space-y-3">
      <p-card class="overflow-hidden">
        <ng-template #header>
          <div class="flex justify-center rounded-full overflow-hidden h-1/2 w-1/2 mx-auto mt-4">
            <img alt="Card" [src]="'http://localhost:5053' + currentUser?.profileImage" />
          </div>
        </ng-template>
        <div class="text-center space">
          <h2 class="text-xl font-semibold">{{ currentUser?.username }}</h2>
          <p class="text-sm text-muted-color">{{ currentUser?.email }}</p>
        </div>
        <h2 class="text-xl text-center mt-2">
          ยอดเงินคงเหลือ {{ currentUser?.walletBalance }} บาท
        </h2>
      </p-card>
      <p-card header="เติมเงินเข้ากระเป๋า">
        <p>เลือกจำนวนเงินที่ต้องการเติม</p>
        <div class="grid grid-cols-3 gap-2 mt-2">
          <p-button label="100" class="w-full" styleClass="w-full" variant="outlined" />
          <p-button label="200" class="w-full" styleClass="w-full" variant="outlined" />
          <p-button label="500" class="w-full" styleClass="w-full" />
        </div>
        <p-icon-field class="my-2 w-full">
          <p-inputicon class="pi pi-wallet" />
          <input class="w-full" pInputText placeholder="กำหนดเอง" />
          <p-inputicon class="pi pi-times cursor-pointer" />
        </p-icon-field>
        <p-button label="เติมเงิน" class="w-full" styleClass="w-full" />
      </p-card>
    </div>
    <div>
      <h3 class="text-lg font-semibold">ประวัติการทำรายการ</h3>
      <p-table [value]="transactionHistory" class="rounded-xl overflow-hidden">
        <ng-template #header>
          <tr>
            <th>วันที่</th>
            <th>ประเภท</th>
            <th>คำอธิบาย</th>
            <th>จำนวนเงิน</th>
          </tr>
        </ng-template>
        <ng-template #body let-data>
          <tr>
            <td>2023-10-01</td>
            <td>เติมเงิน</td>
            <td>เติมเงินเข้ากระเป๋า</td>
            <td>+500 บาท</td>
          </tr>
          <tr>
            <td>2023-09-28</td>
            <td>ซื้อเกม</td>
            <td>ซื้อเกม Cyberpunk 2077</td>
            <td>-1200 บาท</td>
          </tr>
          <tr>
            <td>2023-09-15</td>
            <td>เติมเงิน</td>
            <td>เติมเงินเข้ากระเป๋า</td>
            <td>+1000 บาท</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</main>
